{% extends 'layouts/_layout_admin.html' %}
{% block page_title %}{{ 'Editar' if mesa else 'Nueva' }} Mesa{% endblock %}

{% block admin_content %}
{% from 'components/_page_header.html' import page_header %}
{% from 'components/_form_group.html' import form_group %}

{{ page_header(
    'Editar Mesa #' ~ mesa.numero if mesa else 'Nueva Mesa',
    breadcrumb=[('Catálogo', ''), ('Mesas', url_for('admin.lista_mesas')), (('Editar' if mesa else 'Nueva'), '')]
) }}

<div class="cl-card" style="max-width:640px;">
  <form method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="row">
      <div class="col-md-4">
        {{ form_group('numero', 'Número de Mesa', value=mesa.numero if mesa else '', required=true, icon='hash') }}
      </div>
      <div class="col-md-4">
        {{ form_group('capacidad', 'Capacidad (personas)', type='number', value=mesa.capacidad if mesa else '4', min='1') }}
      </div>
      <div class="col-md-4">
        {{ form_group('zona', 'Zona', value=mesa.zona if mesa else '', placeholder='terraza, interior, barra…') }}
      </div>
    </div>
    <div class="d-flex gap-2 mt-4">
      <button type="submit" class="cl-btn cl-btn--primary">
        <i data-lucide="save" class="icon-sm"></i> Guardar
      </button>
      <a href="{{ url_for('admin.lista_mesas') }}" class="cl-btn cl-btn--ghost">Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}
